---
title: Javascript与Unicode、Utf-8
date: 2018-02-06 16:34:30
tags:
---
平时工作中其实经常会看见或者听到Unicode编码，Utf-8，看了阮老师关于ES6新特性的介绍，表示字符有以下几种方法：

```
'\z' === 'z'     // true
'\172' === 'z'   // true
'\x7A' === 'z'   // true
'\u007A' === 'z' // true
'\u{7A}' === 'z' // true
```

突然就怀疑自己，平时表示字符用什么方式？双引号？其它的表示方式呢？字符编码是什么？大学c语言里讲的ASCII跟Unicode什么关系？于是查了一些资料，整理如下：

### ASCII码
在计算机中，所有的数据在存储和运算时都要使用二进制数（0和1）表示，ASCII 码使用指定的7 位或8 位二进制数组合来表示128 或256 种可能的字符。标准ASCII 码也叫基础ASCII码，使用7 位二进制数（剩下的1位二进制为0）来表示所有的大写和小写字母，数字0 到9、标点符号， 以及在美式英语中使用的特殊控制字符。

### Unicode编码
如上，ASCII码只能表示英文字符或数字，那其他语言如何表示呢？中文？法语？Unicode就出现了，它是计算机科学领域里的一项业界标准。它对世界上大部分的文字系统进行了整理、编码，使得电脑可以用更为简单的方式来呈现和处理文字。

### UTF-8
Unicode在很长一段时间内无法推广，直到互联网的出现，为解决Unicode如何在网络上传输的问题，于是面向传输的众多 UTF标准出现了，顾名思义，UTF-8就是每次8个位传输数据，而UTF-16就是每次16个位。UTF-8最大的一个特点，就是它是一种变长的编码方式。它可以使用1~4个字节表示一个符号，根据不同的符号而变化字节长度，当字符在ASCII码的范围时，就用一个字节表示，保留了ASCII字符一个字节的编码做为它的一部分，注意的是Unicode一个中文字符占2个字节，而UTF-8一个中文字符占3个字节。从Unicode到UTF-8并不是直接的对应，而是要过一些算法和规则来转换。


| Unicode符号范围（十六进制）      |   UTF-8编码方式（二进制） |
| :--------                     | --------:|
| 0000 0000-0000 007F           | 0xxxxxxx |
| 0000 0080-0000 07FF           | 110xxxxx 10xxxxxx|
| 0000 0800-0000 FFFF           | 110xxxxx 10xxxxxx 10xxxxxx |
| 0001 0000-0010 FFFF           | 1110xxxx 10xxxxxx 10xxxxxx 10xxxxxx|

例如：“曲”在Unicode编码为\u66f2，查表可知在第三行，66f2的二进制表示为：110 011011 110010，在表中右侧UTF-8第三排依此填入，“曲”的UTF-8编码表示为：111001101001101110110010，转成十六进制为E69BB2。

[参考链接](https://foofish.net/unicode_utf-8.html)
