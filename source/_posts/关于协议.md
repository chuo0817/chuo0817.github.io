---
layout: '[layout]'
title: 关于协议
date: 2019-03-21 13:59:54
tags:
---

HTTP是纯粹的文本协议，规定使用TCP协议来传输文本格式的应用层协议

![](https://rachel-blog.oss-cn-beijing.aliyuncs.com/2019-3/3db5e0f362bc276b83c7564430ecb0a1.jpg)

### HTTP状态
`304 Not Modified`未改变，说明无需再次传输请求的内容，可以使用缓存的内容。（客户端本地已经有缓存的版本，并且在Request中告诉了服务端，当服务端通过时间或者tag发现没有更新的时候，就会返回一个不含body的304状态）

#### Request Header
![](https://rachel-blog.oss-cn-beijing.aliyuncs.com/2019-3/2be3e2457f08bdf624837dfaee01e4a2.png)


#### Response Header
![](https://rachel-blog.oss-cn-beijing.aliyuncs.com/2019-3/efdeadf27313e08bf0789a3b5480f7c9.png)


### HTTPS
HTTPS 有两个作用，一是确定请求的目标服务端身份，二是保证传输的数据不会被网络中间节点窃听或者篡改。使用加密通道来传输HTTP的内容 ，HTTPS首先与服务端建立一条TLS加密通道，TLS构建于TCP协议之上。

### HTTP2
一是支持服务端推送，二是支持TCP连接复用。
服务端提前把一部分内容推送给客户端，放入缓存当中，避免客户端请求顺序带来的并行度不高，导致的性能问题。
TCP连接复用，使用同一个TCP连接来传输多个HTTP请求，避免TCP连接建立时的三次握手开销，和初建TCP连接时传输窗口过小的问题。

#### 页面输入url到页面渲染:
HTTP请求 -> 字节流 -> 状态机 -> 词token -> 栈 -> DOM树（标签的解析）（同时加载css，选择的优先级） -> 排版 （布局、浮动、定位） -> 渲染 -> 绘制（鼠标的滚动，input等都会导致不同程度的绘制）